База данных с данными для авторизации `global_auth`
```sql
CREATE DATABASE global_auth;

CREATE TABLE global_auth.users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL
);
```
```sql
GRANT SELECT ON *.* TO 'web_local'@'localhost';
```

Имя базы данных соответствует имени пользователя

Создание таблицы `logdata`
```sql
CREATE TABLE `logdata` (
  `device_id` int NOT NULL,
  `msg_id` int NOT NULL,
  `time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `humidity` decimal(8,6) DEFAULT NULL,
  `temperature` decimal(8,6) DEFAULT NULL,
  `battery` decimal(8,6) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
```

Создание таблицы `logcfg`
```sql
CREATE TABLE `logcfg` (
  `device_id` int NOT NULL PRIMARY KEY,
  `device_name` VARCHAR(32) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
```

Тестовые данные
```sql
INSERT INTO `logdata` (`device_id`, `msg_id`, `time`, `humidity`, `temperature`, `battery`) VALUES
(1, 1, '2024-11-23 07:12:10', 86.987560, 23.145230, 4.210000),
(1, 2, '2024-11-23 07:16:25', 88.234756, 21.443230, 4.209000),
(1, 3, '2024-11-23 07:34:47', 82.432460, 22.443200, 4.206000),
(1, 4, '2024-11-23 07:52:32', 80.534230, 21.443200, 4.203000),
(1, 5, '2024-11-23 08:04:32', 78.534230, 24.443200, 4.202000),
(1, 6, '2024-11-23 08:11:04', 83.332140, 25.434010, 4.195000),
(1, 7, '2024-11-23 09:30:38', 87.213410, 22.432430, 4.160000),
(1, 7, '2024-11-23 09:30:42', 87.213410, 22.432430, 4.160000),
(2, 1, '2024-11-23 09:31:18', 81.213410, 25.432430, 4.121000),
(2, 1, '2024-11-23 09:31:23', 81.213410, 25.432430, 4.121000),
(2, 2, '2024-11-23 09:33:36', 86.213410, 21.432430, 4.050000),
(2, 2, '2024-11-23 09:33:41', 86.213410, 21.432430, 4.050000),
(2, 3, '2024-11-23 09:51:47', 88.341213, 20.932300, 3.950000),
(2, 3, '2024-11-23 09:51:54', 88.341213, 20.932300, 3.950000),
(3, 1, '2024-11-23 09:54:45', 82.133213, 25.192330, 4.100000),
(21, 1, '2024-11-23 09:55:11', 82.374330, 27.593243, 3.710000),
(21, 1, '2024-11-23 09:55:20', 82.374330, 27.593243, 3.710000),
(3, 2, '2024-11-23 09:57:41', 85.363213, 24.192330, 4.000000),
(21, 2, '2024-11-23 09:57:50', 87.374330, 21.593243, 3.690000),
(21, 2, '2024-11-23 09:58:03', 87.374330, 21.593243, 3.690000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(10, 10, '2024-11-24 02:26:25', 10.000000, 10.000000, 10.000000),
(23, 96, '2024-11-25 01:58:52', 54.000000, 25.000000, 0.000000),
(23, 108, '2024-11-25 02:00:18', 54.000000, 25.000000, 0.000000),
(23, 115, '2024-11-25 02:01:10', 54.000000, 25.000000, 4.000000),
(23, 124, '2024-11-25 02:02:13', 54.000000, 25.000000, 4.000000),
(23, 129, '2024-11-25 02:02:49', 54.000000, 25.000000, 4.000000),
(23, 140, '2024-11-25 02:04:06', 54.335999, 24.730000, 4.000000),
(23, 146, '2024-11-25 02:04:49', 54.335999, 24.730000, 4.000000),
(23, 174, '2024-11-25 02:08:09', 54.335999, 24.730000, 4.000000),
(23, 189, '2024-11-25 02:09:56', 54.335999, 24.730000, 4.000000),
(23, 197, '2024-11-25 02:10:53', 54.335999, 24.730000, 4.000000),
(23, 249, '2024-11-25 02:17:05', 54.335999, 24.730000, 4.000000),
(23, 261, '2024-11-25 02:18:30', 54.335999, 24.730000, 4.000000),
(23, 266, '2024-11-25 02:19:06', 54.335999, 24.730000, 4.000000),
(23, 276, '2024-11-25 02:20:18', 54.335999, 24.730000, 4.000000),
(23, 281, '2024-11-25 02:20:53', 54.335999, 24.730000, 4.000000),
(23, 287, '2024-11-25 02:21:36', 54.335999, 24.730000, 4.000000),
(23, 295, '2024-11-25 02:22:33', 54.335999, 24.730000, 4.000000),
(23, 310, '2024-11-25 02:24:20', 54.335999, 24.730000, 4.000000),
(23, 315, '2024-11-25 02:24:56', 54.335999, 24.730000, 4.000000),
(23, 321, '2024-11-25 02:25:39', 54.335999, 24.730000, 4.000000),
(23, 332, '2024-11-25 02:26:57', 54.335999, 24.730000, 4.000000),
(23, 349, '2024-11-25 02:28:59', 54.335999, 24.730000, 4.000000),
(23, 370, '2024-11-25 02:31:29', 54.335999, 24.730000, 4.000000),
(23, 387, '2024-11-25 02:33:30', 54.335999, 24.730000, 0.000000),
(23, 397, '2024-11-25 02:34:43', 55.335999, 24.730000, 0.000000),
(23, 403, '2024-11-25 02:35:24', 54.335999, 24.730000, 0.000000),
(23, 412, '2024-11-25 02:36:29', 54.335999, 24.730000, 0.000000),
(23, 417, '2024-11-25 02:37:04', 53.335999, 24.730000, 0.000000),
(23, 429, '2024-11-25 02:38:30', 53.335999, 24.730000, 0.000000),
(23, 435, '2024-11-25 02:39:13', 55.335999, 24.730000, 0.000000),
(23, 442, '2024-11-25 02:40:03', 53.335999, 24.730000, 0.000000),
(23, 452, '2024-11-25 02:41:14', 54.335999, 24.730000, 0.000000),
(23, 459, '2024-11-25 02:42:04', 53.335999, 24.730000, 0.000000),
(23, 472, '2024-11-25 02:43:37', 54.335999, 24.730000, 0.000000),
(23, 491, '2024-11-25 02:45:53', 54.335999, 24.730000, 0.000000),
(23, 501, '2024-11-25 02:47:04', 54.335999, 24.730000, 0.000000),
(23, 543, '2024-11-25 02:52:04', 54.335999, 24.730000, 4.100000),
(23, 548, '2024-11-25 02:52:39', 54.335999, 24.730000, 4.100000),
(23, 555, '2024-11-25 02:53:29', 54.335999, 24.730000, 4.100000),
(23, 638, '2024-11-25 03:03:22', 54.335999, 24.730000, 4.100000),
(23, 650, '2024-11-25 03:04:48', 54.335999, 24.730000, 4.100000),
(23, 663, '2024-11-25 03:06:21', 54.335999, 24.730000, 4.100000),
(23, 668, '2024-11-25 03:06:56', 54.335999, 24.730000, 4.100000),
(23, 690, '2024-11-25 03:09:33', 54.335999, 24.730000, 4.100000),
(23, 698, '2024-11-25 03:10:30', 54.335999, 24.730000, 4.100000),
(23, 705, '2024-11-25 03:11:21', 55.135998, 25.129999, 4.092000),
(23, 713, '2024-11-25 03:12:17', 54.405998, 24.764999, 4.091300),
(23, 732, '2024-11-25 03:14:34', 54.505997, 24.814999, 4.098300),
(23, 739, '2024-11-25 03:15:23', 54.995998, 25.059999, 4.091700),
(23, 751, '2024-11-25 03:16:49', 55.166000, 25.145000, 4.091700),
(23, 780, '2024-11-25 03:20:16', 55.205997, 25.164999, 4.091300),
(23, 789, '2024-11-25 03:21:20', 55.025997, 25.074999, 4.084400),
(23, 797, '2024-11-25 03:22:17', 54.775997, 24.949999, 4.080000),
(23, 813, '2024-11-25 03:24:12', 54.695999, 24.910000, 4.076400),
(23, 827, '2024-11-25 03:25:52', 54.505997, 24.814999, 4.074700),
(23, 849, '2024-11-25 03:28:29', 54.585999, 24.855000, 4.072200),
(23, 861, '2024-11-25 03:29:54', 54.695999, 24.910000, 4.068600),
(23, 877, '2024-11-25 03:31:49', 54.335999, 24.730000, 4.100000),
(23, 891, '2024-11-25 03:33:29', 54.945999, 25.035000, 4.099390),
(23, 900, '2024-11-25 03:34:33', 54.785999, 24.955000, 4.098940),
(23, 908, '2024-11-25 03:35:30', 55.225998, 25.174999, 4.098050),
(23, 981, '2024-11-25 03:44:12', 54.966000, 25.045000, 4.097420),
(23, 1002, '2024-11-25 03:46:42', 54.405998, 24.764999, 4.097350),
(23, 1012, '2024-11-25 03:47:53', 54.445999, 24.785000, 4.097240),
(23, 1036, '2024-11-25 03:50:44', 54.556000, 24.840000, 4.097020),
(23, 1057, '2024-11-25 03:53:14', 54.875999, 25.000000, 4.096480),
(23, 1085, '2024-11-25 03:56:34', 54.425999, 24.775000, 4.096390),
(23, 1127, '2024-11-25 04:01:34', 54.615997, 24.869999, 4.096110),
(23, 1157, '2024-11-25 04:05:09', 54.875999, 25.000000, 4.095571),
(23, 1163, '2024-11-25 04:05:50', 55.166000, 25.145000, 4.094740),
(23, 1175, '2024-11-25 04:07:16', 54.666000, 24.895000, 4.099670),
(23, 1182, '2024-11-25 04:08:06', 54.535999, 24.830000, 4.099470),
(23, 1188, '2024-11-25 04:08:49', 55.085999, 25.105000, 4.098720),
(23, 1193, '2024-11-25 04:09:24', 55.295998, 25.209999, 4.097760),
(23, 1216, '2024-11-25 04:12:09', 55.185997, 25.154999, 4.096910),
(23, 1229, '2024-11-25 04:13:42', 55.185997, 25.154999, 4.096060),
(23, 1235, '2024-11-25 04:14:24', 55.045998, 25.084999, 4.095350),
(23, 1244, '2024-11-25 04:15:29', 54.495998, 24.809999, 4.095190),
(23, 1263, '2024-11-25 04:17:45', 54.775997, 24.949999, 4.094749),
(23, 1271, '2024-11-25 04:18:41', 55.216000, 25.170000, 4.093870),
(23, 1276, '2024-11-25 04:19:17', 55.155998, 25.139999, 4.093050),
(23, 1282, '2024-11-25 04:20:03', 54.986000, 25.055000, 4.092400),
(23, 1308, '2024-11-25 04:23:06', 54.966000, 25.045000, 4.091770),
(23, 1313, '2024-11-25 04:23:41', 54.505997, 24.814999, 4.091599),
(23, 1327, '2024-11-25 04:25:22', 54.365997, 24.744999, 4.091569),
(23, 1350, '2024-11-25 04:28:06', 54.865997, 24.994999, 4.091040),
(23, 1355, '2024-11-25 04:28:41', 55.105999, 25.115000, 4.090270),
(23, 1363, '2024-11-25 04:29:38', 54.486000, 24.805000, 4.090119),
(23, 1368, '2024-11-25 04:30:14', 54.545998, 24.834999, 4.089910),
(23, 1385, '2024-11-25 04:32:16', 54.835999, 24.980000, 4.089409),
(23, 1402, '2024-11-25 04:34:17', 54.826000, 24.975000, 4.088919),
(23, 1413, '2024-11-25 04:35:36', 54.885998, 25.004999, 4.088369),
(23, 1418, '2024-11-25 04:36:11', 55.045998, 25.084999, 4.087659),
(23, 1435, '2024-11-25 04:38:13', 54.525997, 24.824999, 4.087470),
(23, 1445, '2024-11-25 04:39:24', 54.646000, 24.885000, 4.087160),
(23, 1450, '2024-11-25 04:39:59', 55.216000, 25.170000, 4.086280),
(23, 1460, '2024-11-25 04:41:11', 54.666000, 24.895000, 4.085950),
(23, 1467, '2024-11-25 04:42:01', 54.986000, 25.055000, 4.085300),
(23, 1472, '2024-11-25 04:42:37', 54.826000, 24.975000, 4.084810),
(23, 1484, '2024-11-25 04:44:03', 54.605999, 24.865000, 4.084540),
(23, 1489, '2024-11-25 04:44:38', 54.995998, 25.059999, 4.083880),
(23, 1506, '2024-11-25 04:46:40', 55.285999, 25.205000, 4.082930),
(23, 1516, '2024-11-25 04:47:51', 54.736000, 24.930000, 4.082530),
(23, 1533, '2024-11-25 04:49:52', 55.095997, 25.109999, 4.081770),
(23, 1549, '2024-11-25 04:51:47', 54.835999, 24.980000, 4.081270),
(23, 1559, '2024-11-25 04:52:58', 54.826000, 24.975000, 4.080780),
(23, 1571, '2024-11-25 04:54:24', 54.765999, 24.945000, 4.080349),
(23, 1575, '2024-11-25 04:54:53', 54.995998, 25.059999, 4.099340),
(23, 1589, '2024-11-25 04:56:32', 54.475998, 24.799999, 4.099200),
(23, 1598, '2024-11-25 04:57:36', 55.295998, 25.209999, 4.098240),
(23, 1609, '2024-11-25 04:58:55', 54.335999, 24.730000, 4.098240),
(23, 1623, '2024-11-25 05:00:35', 55.195999, 25.160000, 4.097380),
(23, 1628, '2024-11-25 05:01:11', 54.375999, 24.750000, 4.097340),
(23, 8, '2024-11-25 05:08:59', 54.635998, 24.879999, 4.099700),
(23, 7, '2024-11-25 05:18:08', 54.405998, 24.764999, 4.099930),
(23, 39, '2024-11-25 05:21:50', 54.765999, 24.945000, 4.099570),
(23, 57, '2024-11-25 05:23:59', 54.445999, 24.785000, 0.000000),
(23, 67, '2024-11-25 05:25:10', 54.885998, 25.004999, 0.000000),
(23, 76, '2024-11-25 05:26:14', 54.725998, 24.924999, 0.000000),
(23, 81, '2024-11-25 05:26:50', 55.025997, 25.074999, 0.000000),
(23, 95, '2024-11-25 05:28:30', 54.455997, 24.789999, 0.000000),
(23, 110, '2024-11-25 05:30:17', 55.015999, 25.070000, 0.000000),
(23, 128, '2024-11-25 05:32:26', 55.146000, 25.135000, 0.000000),
(23, 140, '2024-11-25 05:33:52', 54.705997, 24.914999, 0.000000),
(23, 158, '2024-11-25 05:36:00', 54.475998, 24.799999, 0.000000),
(23, 173, '2024-11-25 05:37:47', 54.955997, 25.039999, 0.000000),
(23, 190, '2024-11-25 05:39:49', 54.425999, 24.775000, 0.000000),
(23, 199, '2024-11-25 05:40:53', 54.605999, 24.865000, 0.000000),
(23, 22, '2024-11-25 05:49:02', 55.166000, 25.145000, 0.000000),
(23, 27, '2024-11-25 05:49:38', 54.576000, 24.850000, 0.000000),
(23, 39, '2024-11-25 05:51:04', 55.216000, 25.170000, 0.000000),
(23, 45, '2024-11-25 05:51:46', 54.475998, 24.799999, 0.000000);
```
